syntax = "proto3";

option java_package = "de.tebbeubben.remora.proto.messages";
option java_multiple_files = true;

message CommandMessage {
  uint32 command_id = 1;
  StatusSnapshot status_snapshot = 2;
  oneof command {
    BolusCommand bolus_command = 3;
  }
}

message StatusSnapshot {
  float bg = 1;
  float iob = 2;
  float cob = 3;
  uint32 lastBolusTime = 4;
  float lastBolusAmount = 5;
}

message BolusCommand {
  float insulin = 1;
  float carbs = 2;
  bool enable_meal_tt = 3;
}